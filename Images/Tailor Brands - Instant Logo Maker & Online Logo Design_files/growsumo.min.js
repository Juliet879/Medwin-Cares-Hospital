growsumo={domain:"https://grsm.io",cookie_domain:location.host,data:{amount:0,currency:"USD",email:"",name:"",public_key:"",host_domain:""},_initialize:function(o){var a=/([a-z1-9\-]*)(\.[a-z1-9\-]*)(\.[a-z1-9\-]*)/gi,r=a.exec(growsumo.cookie_domain);r&&(growsumo.cookie_domain=r[2]+r[3]),growsumo.data.host_domain=location.host,growsumo.data.public_key=o,growsumo._gpk();var n=growsumo._gpbn("gsxid");n&&(growsumo._sc("gsxid",n),growsumo.data.xid=n)},_gc:function(o){var a=new RegExp(o+"=([^;]+)"),r=a.exec(document.cookie);return null!==r?unescape(r[1]):null},_sc:function(o,a){var r=new Date(Date.now()+7776e6).toUTCString();document.cookie=o+"="+a+";domain="+growsumo.cookie_domain+";expires="+r+";path=/;";var n=growsumo._gc(o);n!==a&&(document.cookie=o+"="+a+";domain="+location.host+";expires="+r+";path=/;")},_gpk:function(){var o=growsumo._gpbn("gspk");if(o)o=growsumo._b64d(o),growsumo._spk(o);else{var a=growsumo._ccr("GET",growsumo.domain+"/pr/gpk/"+growsumo.data.public_key);a.onreadystatechange=function(){4==a.readyState&&200==a.status&&growsumo._spk(a.responseText)},a.send(null)}},_spk:function(o){var a=growsumo._gc("growSumoPartnerKey");o?(growsumo.data.partner_key=o,growsumo._sc("growSumoPartnerKey",o)):a&&(growsumo.data.partner_key=a,growsumo._sc("growSumoPartnerKey",a))},_gpbn:function(o){o=o.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)"),r=a.exec(location.search);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},_rd:function(){growsumo.data.amount=0,growsumo.data.email="",growsumo.data.name="",growsumo.data.currency="USD"},_ccr:function(o,a,r){var n=new XMLHttpRequest;return n.withCredentials=!0,"withCredentials"in n?n.open(o,a,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(o,a)):n=null,n},_mr:function(o,a,r,n){var t=growsumo.domain+a,e=growsumo._ccr(o,t);return e?(e.onload=e.onerror=function(o){n&&"function"==typeof n&&n(o)},void e.send(JSON.stringify(r))):void console.error("CORS not supported")},_b64d:function(o){return decodeURIComponent(atob(o).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))},validTraffic:function(o,a){valid_payload={},valid_payload.public_key=growsumo.data.public_key,valid_payload.dest=window.location.href;var r=growsumo.data.xid||growsumo._gc("gsxid");r&&(valid_payload.xid=r),a&&a.length&&(valid_payload.domain_whitelist=a);var n=growsumo._ccr("POST",growsumo.domain+"/pr/validate");n.onreadystatechange=function(){if(4==n.readyState){const a=200==n.status;[404,200].indexOf(n.status)===-1&&console.error(n.statusText),o&&"function"==typeof o&&o(a)}},n.send(JSON.stringify(valid_payload))},setData:function(o,a,r,n){growsumo.data.amount=o,growsumo.data.currency=a,growsumo.data.email=r,growsumo.data.name=n},createSignup:function(o){growsumo._spk(),growsumo.data.name=String(growsumo.data.name),growsumo.data.email=String(growsumo.data.email),growsumo.data.currency=String(growsumo.data.currency),growsumo.data.amount=Number(growsumo.data.amount);var a=growsumo._gc("gsxid");a&&(growsumo.data.xid=String(a)),growsumo._mr("POST","/pr/signup",growsumo.data,function(a){growsumo._rd(),o&&"function"==typeof o&&o(a)})}};